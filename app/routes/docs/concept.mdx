# コンセプト

解決したい問題はなにか


独自文法に基づいたローカルメモ


---
## 概念って把握するのムズいよね
- よく読み込まないと分からない ex. wikipediaのリンク地獄、本
  - 絡み合った依存関係
  - 重要なポイントが分からない
  - 理解に必要なコストが分からない
- 大学数学ムズすぎ
  - 連番のみの無名な大量の定理
    ex. 定理12
  - この証明を追って何に繋がるか分からない
  - 全体像が見えずにモチベ低下

---
## 概念把握できるよ！ knowdeならね！
knowdeの現状の機能
- 長文の否定、1行の短文単位
- 依存関係の数から重要度を数値で算出
- 概念の依存関係を独自文法で表現したプレーンテキストを解析
- ネットワークの整理度合いを算出して理解度を確認できる

---
## [目標] 今日からやってほしいこと
**markdownライクな文法**に従ってプレーンテキストで勉強メモを書いてみて!

```knowde
# 題名 知識ネットワークの識別子
  //メタ情報 [@author 著者 |@published 第一出版日 |@url url]
## 見出し1
    ...
###### 見出し5 // 5段階まで見出しが使える
  aaa //1文にはインデントが必要
  !コメント
  ppp
      qqq    //pppの配下を表す 詳細などを書く
      <- rrr //pppの前提
      -> sss //pppによる帰結
      ex. example //例
```

---
## [Demo] メモの例
```knowde
# DEMO
  微分, differential: 曲がったものでも近くで見ると真っ直ぐに見える
    ex. 地平線
    !$\frac{df}{dx}= \lim_{\Delta{x} \to 0}\frac{f(x + \Delta{x}) - f(x)}{\Delta{x}}$
    <- 極限: 限りなく近づける

  積分, integral, リーマン積分: 細かく区切って足し合わせる
    ! <-> は未実装だが「反対」を意味する
    <-> `微分`
    xe. ルベーグ積分: 区間で区切るのではなく、関数の値域を近似する
  テイラー展開: ウンタラカンタラ
    <- `微分`
```

---
## [Demo] 文を重要度でソート
重要度順に並べた結果
```bash
$ cat demo.md | kn score

  detail    refer    referred    premise    conclusion    example    general    score  sentence
--------  -------  ----------  ---------  ------------  ---------  ---------  -------  ----------------------------------------
       0        0           0          1             1          1          0        3  微分(differential): 曲がったものでも近くで見ると真っ直ぐに見える
       0        0           0          2             0          0          0        2  テイラー展開: ウンタラカンタラ
       0        0           0          0             1          0          0        1  極限: 限りなく近づける
       0        0           0          0             0          1          0        1  ルベーグ積分: 区間で区切るのではなく、関数の値域を近似する
       0        0           0          0             0          0          1        1  積分(リーマン積分, integral): 細かく区切って足し合わせる
       0        0           0          0             0          0          1        1  地平線
       0        0           0          0             1          0          0        1  微分(differential): 曲がったものでも近くで見ると真っ直ぐに見える
```

詳細の確認
```bash
$ cat demo.md | kn detail

1. 極限: 限りなく近づける
  -> 微分(differential): 曲がったものでも近くで見ると真っ直ぐに見える

1件ヒットしました
```

---
## [Demo] 統計値
```bash
$ cat demo.md |kn stat
{
  "edge": 19,
  "term": 5,
  "sentence": 7,
  "char": 130,
  "isolation": 0,
  "axiom": 2,
  "term_axiom": 0,
  "isoration_ratio": "0.00%", // 誤字ってるやんけ
  "axiom_term_ratio": "0.00%",
  "axiom_ratio": "28.60%"
}

```
メモの出来のよさのフィードバック

---
## knowdeショボくね？ 今後の目標
2月 ローカルCLI機能完成
- 時系列でのソート表示、場所で出来事をまとめて表示
- ファイル(ソース)間import
- 数式対応(引用の書き方の調整)
- staging機能(一時保存や差分確認)
- ファイルアウトプット(markdown, json)

---
## knowdeショボくね？ 今後の目標2

3月 グローバルCLI機能
- user機能
  - DB対応
  - フォロー機能...
  - 他人と知識をシェア
  - 自作した知識をimportしてもらったら評価UP 知識SNS

4月(まだ無職なのか)
- フロントエンド作成(React.js, Next.js)
  - アフィリエイトリンク自動生成
- 知識増やす育成ゲーム ex. 選択問題生成、知識ツリーダンジョン


---
## 今まで開発が遅かった理由
1. とにかくE2Eで機能を作ろうとした 2023~2024/9
    - 各々のデータ型をCRUDするAPIとCLI
    - ちまちま1データずつ登録するとか誰が使うねん
    - 向かう先が分からなくなってやる気減退
2. プレーンテキストによる知識ネットワークの一括CRUD
    - ふと再開した読書メモから着想
    - 自分で使うフィードバックから使い勝手の良さを確認しつつ進める自信
    - APIとかDBは後回しでコアな機能に注力することが大事だと反省
    - テキストのparseをクリアして開発加速し始めた

knowdeの将来に期待!
1人で書けるメモ量は知れてるから協力してほしい(気が向けば)

---

## プレーンテキストメモは最強！
- プレーンテキストは様々なツールで加工可能であり使い回せる
  - この資料はテキストから生成した(marp)
  - grepやsedのようなパイプラインでも処理可能
  - knowde CLIもパイプラインの一部として機能する
    ex. knowde用メモ -> json -> grep ...
- 検索しやすい
- 変更しやすい


---

## プレーンテキストにしなかった後悔 ~過去の勉強メモの失敗
紙ノートや[デジタルペーパー](https://mega.nz/fm/4VJ3yCBC)でメモをしてきたが失敗だった
- かさばる
- 字が滲んでくる
- 紙が劣化する
- 検索しづらい
- 変更しづらい
デジタルペーパーでは改善するものの、検索性や変更容易性に問題あるまま

ブログにアウトプットする際にノートなどのメモは使い物にならなかった
- 雑まとめけの参考にならないメモ
- 書き直しがしづらいからか

---
## まとめ
- とにかくプレーンテキストで書いてほしい
- それにknowdeを使用してみてフィードバックあれば欲しい
- 将来さらなる発展を期待してメモためて欲しい
- プレーンテキストなら再利用しやすくて無駄にならないから!



メモの出来のよさをフィードバック

------------------------------------------------------------------------------------------
## 方針の変更
旧 まずはローカルで使えるCLIの機能を充実させて、その後にweb化しようと思った
- **他のネットワークからのimport**
- 数式対応
- ファイル出力
- 変更差分

→ 新 まずweb化を目指して一般ユーザーを獲得できる状態を目指すことにした

---
## 成果
- 時系列ソート(1Week)
  細部の実装に時間かかりすぎて危機感
- ユーザー認証(1Week)
  コア機能ではないのに時間かかりすぎて危機感
- ネットワークの永続化(途中)
  ユーザーとの紐付けを考え中


---
## [Demo] 時系列ソート
```bash
$ cat 5神は数学者か？.kn |kn view time "1000 ~ "
     time              sentence
"---  ----------------  ----------------------------------------------
  0  1225 ~ 1274       トマス・アクィナス: 最初に{神の存在証明}を行った神学者
  1  1473 ~ 1543       ニコラウス・コペルニクス(コペルニクス): <<<not defined>>>
  2  1501 ~ 1576       ジロラモ・カルダーノ: 数学者、高名な医者、ギャンブラー
  3  1543              コペルニクスの太陽中心説: <<<not defined>>>
  4  1545              アルス・マグナ: 代数学の歴史的名著
  5  1545 ~ 1563       トリエント公会議: 全25回のカトリック教会の総会議
  6  1546 ~ 1601       ティコ・ブラーエ(ティコ): デンマークの天文学者
  7  1564/2/15         ガリレオ・ガリレイ(ガリレオ): <<<not defined>>>
  8  1572              ティコの超新星: {AU}の最初の反証
  9  1573 ~ 1650       クリストフ・シャイナー: イエズス会の司祭、科学者
 10  1581              ピサ大学で医学の道に進む
 11  1589              ピサ大学の数学教授になる
 12  1591              バドヴァ大学で教授になる
 13  1596 ~ 1650       ルネ・デカルト(デカルト): 五感ではなく数学で自然を記述しようとした最初の一人
```
紀元前 ex. "BC100 ~ 0"
和暦 ex. "S10/1/1 ~ H1/12" 昭和10/1/1 ~ 平成1年12月
世紀 ex. "20C"

---
## [Demo] ユーザー認証

コピペをユーザーにさせることを避けられずキモい

```bash
$ kn user google-sso
認証の次のようなレスポンス'{"access_token":"eyJh...","token_type":"bearer"}'をコピペしてください:
{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...","token_type":"bearer"}
認証情報を保存しました
{'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...', 'token_type': 'bearer'}
Googleによるアカウント作成とログインに成功しました.
{
  "id": "58ccb24d-fd28-4ef3-a3ad-71014818d505",
  "email": "gotoAdmn0605@gmail.com",
  "is_active": true,
  "is_superuser": false,
  "is_verified": false
}
```

## 今後 目標
- 誰もがアップされた内容を検索・閲覧できるようにする(web化)
  - ブラウザでの編集機能は後回し
  - CLIでテキストの内容をアップデート
- 他は後回し


---
## 今後 TODO
- CLI で あるディレクトリ下の内容をfind & 一括アップロード (kn sync)
  - メモをgitでバージョン管理できる
  - ちまちまと1ファイルずつアップロードせずに済む
- owner機能(権限)
- user関連 (後回しにすべきだと思うが...)
  - 戦闘力 アップした分量
  - team, 共同編集
  - ブックマーク
- フロントエンド開発



